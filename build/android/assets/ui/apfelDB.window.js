const BASEURL="http://www.apfelsorten.ch/images/apfelsorten/thumbnails/";exports.create=function(){var e=function(e,t){},t=Ti.UI.createWindow({barColor:"#050",title:"Alte Apfelsorten",exitOnClose:!0}),i=require("ui/TEMPLATES").pommerow;t.listView=Ti.UI.createListView({templates:{poms:i},defaultItemTemplate:"poms"});for(var r=Ti.App.PommesModel.getAll(),o=[],s=0;s<r.length;s++)if(!r[s].title.match(/unbekannt/g)){var n={title:{text:r[s].title},p1:{image:BASEURL+r[s].pics[0]},p2:{image:BASEURL+r[s].pics[1]},p3:{image:BASEURL+r[s].pics[2]},properties:{itemId:JSON.stringify(r[s]),accessoryType:Ti.UI.LIST_ACCESSORY_TYPE_DISCLOSURE}};o.push(n),r[s].pics[0]&&e(BASEURL+r[s].pics[0],n.p1),r[s].pics[1]&&e(BASEURL+r[s].pics[1],n.p2),r[s].pics[2]&&e(BASEURL+r[s].pics[2],n.p3)}return t.listView.setSections([Ti.UI.createListSection({items:o})]),t.listView.addEventListener("itemclick",function(e){console.log(e.itemId),require("ui/detail.window").create(e.itemId).open()}),t.add(t.listView),t.addEventListener("open",function(){if(!Ti.App.Properties.hasProperty("alert")){var e=Ti.UI.createAlertDialog({message:"Diese Apfel-Datenbank stellt lediglich eine technische Machbarkeitsstudie dar und wird zeitnah durch „echte“ Äpfel ersetzt. Dank an 'apfelsorten.ch'!",ok:"Verstanden",title:"Hinweis"});e.show(),e.addEventListener("click",function(){Ti.App.Properties.setString("alert","1")})}}),t};