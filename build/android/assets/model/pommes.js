Array.prototype.isArray=!0;var Pommes=function(){return this.pommes=this.importPommes(),this};Pommes.prototype.importPommes=function(){for(var e=JSON.parse(Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory,"model","pommes.json").read().text).tr,t={},o=[],r=0;r<e.length;r++)try{if(e[r].td.isArray)for(var i=0;i<e[r].td.length;i++)i?t.pics.push(e[r].td[i].p):t={pics:[e[r].td[i].p],title:"",synonymes:[]};else t.title=e[r].td.strong.content,e[r].td.p&&(t.synonymes=e[r].td.p.content.split(", ")),o.push(t)}catch(n){}return o},Pommes.prototype.getAll=function(){return this.pommes},Pommes.prototype.getAllSorten=function(){for(var e=JSON.parse(Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory,"model","sorten.json").read().text),t=[],o=0;o<e.length;o++)t.push(e[o].div[0].a.title);return e=null,t.sort(),t},Pommes.prototype.getAllEvents=function(e){if(Ti.Ansdroid)var t=Ti.UI.Android.createProgressIndicator({message:"Lade Veranstaltungsplan â€¦",location:Ti.UI.Android.PROGRESS_INDICATOR_DIALOG,type:Ti.UI.Android.PROGRESS_INDICATOR_DETERMINANT,cancelable:!0,min:0,max:1});if(!Ti.Network.online)return void(Ti.Android&&Ti.Android.createNotification({message:"Netz nicht da, nehme alte Daten"}).show());var o=JSON.parse(Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory,"model","events.json").read().text),r=Ti.Network.createHTTPClient({ondatastream:function(e){t&&(t.value=e.progress)},onload:function(){t&&t.hide(),Ti.Android&&Ti.Android.createNotification({message:"Neue Daten aus dem Netz aktualisiert"}).show(),e.onload&&e.onload(JSON.parse(this.responseText))},onerror:function(){Ti.Android&&Ti.Android.createNotification({message:"Netz nicht da, nehme alte Daten"}).show(),t&&t.hide(),e.onload&&e.onload(o)}});return r.open("GET","http://lab.min.uni-hamburg.de/store/europom/events.json"),r.send(),t&&t.show(),o},module.exports=Pommes;